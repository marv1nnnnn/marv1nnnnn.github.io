/* The Transmitter-Receiver OS - Suda51 Inspired Design System */

:root {
  /* Suda51 Color Palette */
  --color-void: #000000;
  --color-light: #ffffff;
  --color-shadow: #333333;
  --color-grey-light: #cccccc;
  --color-grey-dark: #666666;
  
  /* Symbolic Colors */
  --color-blood: #cc0000;      /* killer7 crimson */
  --color-info: #0066cc;       /* The Silver Case cerulean */
  --color-unease: #cccc66;     /* FSR unsettling yellow */
  --color-static: #999999;     /* Digital interference */
  
  /* Typography */
  --font-system: 'Courier New', 'Lucida Console', monospace;
  --font-size-xs: 10px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 20px;
  --font-size-xxl: 24px;
  
  /* Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-base: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;
  
  /* Effects */
  --crt-flicker: brightness(1) contrast(1.2) saturate(1.1);
  --digital-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
}

/* Global Reset */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-system);
  font-size: var(--font-size-base);
  background: var(--color-void);
  color: var(--color-light);
  overflow: hidden;
  user-select: none;
  cursor: crosshair;
}

/* CRT Screen Effect */
.kamino-os {
  position: relative;
  width: 100vw;
  height: 100vh;
  background: 
    var(--digital-noise),
    linear-gradient(transparent 50%, rgba(0, 255, 0, 0.03) 50%);
  background-size: 100px 100px, 100% 4px;
  filter: var(--crt-flicker);
  animation: crt-flicker 0.15s infinite linear alternate;
}

@keyframes crt-flicker {
  0% { opacity: 1; }
  98% { opacity: 1; }
  99% { opacity: 0.98; }
  100% { opacity: 1; }
}

/* Scanlines */
.kamino-os::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  z-index: 1000;
}

/* Film Grain */
.kamino-os::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(120, 119, 198, 0.2) 0%, transparent 50%);
  mix-blend-mode: screen;
  opacity: 0.3;
  animation: film-grain 0.2s infinite;
  pointer-events: none;
  z-index: 999;
}

@keyframes film-grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-1px, -1px); }
  20% { transform: translate(0px, 1px); }
  30% { transform: translate(1px, 0px); }
  40% { transform: translate(-1px, 1px); }
  50% { transform: translate(1px, -1px); }
  60% { transform: translate(0px, -1px); }
  70% { transform: translate(-1px, 0px); }
  80% { transform: translate(1px, 1px); }
  90% { transform: translate(0px, 0px); }
}

/* Typography Styles */
.text-glitch {
  position: relative;
  animation: text-glitch 0.3s infinite;
}

@keyframes text-glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-1px, 1px); }
  40% { transform: translate(-1px, -1px); }
  60% { transform: translate(1px, 1px); }
  80% { transform: translate(1px, -1px); }
  100% { transform: translate(0); }
}

.text-redacted {
  background: var(--color-void);
  color: var(--color-void);
  position: relative;
}

.text-redacted::before {
  content: '[REDACTED]';
  position: absolute;
  top: 0;
  left: 0;
  color: var(--color-blood);
  background: var(--color-void);
  animation: redaction-flicker 1s infinite;
}

@keyframes redaction-flicker {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

/* Window System Base Styles */
.window {
  position: absolute;
  background: var(--color-void);
  border: 2px solid var(--color-light);
  box-shadow: 
    inset 1px 1px 0 var(--color-shadow),
    inset -1px -1px 0 var(--color-grey-dark),
    4px 4px 8px rgba(0, 0, 0, 0.5);
  font-family: var(--font-system);
}

.window-header {
  background: var(--color-shadow);
  border-bottom: 1px solid var(--color-light);
  padding: var(--space-sm);
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: move;
}

.window-title {
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.window-controls {
  display: flex;
  gap: var(--space-xs);
}

.window-control {
  width: 16px;
  height: 16px;
  border: 1px solid var(--color-light);
  background: var(--color-shadow);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xs);
  transition: all 0.1s ease;
}

.window-control:hover {
  background: var(--color-light);
  color: var(--color-void);
}

.window-content {
  padding: var(--space-base);
  height: calc(100% - 40px);
  overflow: hidden;
}

/* Button Styles */
.btn {
  background: var(--color-shadow);
  border: 2px solid var(--color-light);
  color: var(--color-light);
  padding: var(--space-sm) var(--space-base);
  font-family: var(--font-system);
  font-size: var(--font-size-sm);
  cursor: crosshair;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.1s ease;
}

.btn:hover {
  background: var(--color-light);
  color: var(--color-void);
  transform: translate(-1px, -1px);
  box-shadow: 2px 2px 0 var(--color-shadow);
}

.btn:active {
  transform: translate(0, 0);
  box-shadow: none;
}

.btn-blood {
  border-color: var(--color-blood);
  color: var(--color-blood);
}

.btn-blood:hover {
  background: var(--color-blood);
  color: var(--color-light);
}

/* Utility Classes */
.text-blood { color: var(--color-blood); }
.text-info { color: var(--color-info); }
.text-unease { color: var(--color-unease); }
.text-static { color: var(--color-static); }

.bg-void { background: var(--color-void); }
.bg-shadow { background: var(--color-shadow); }
.bg-light { background: var(--color-light); }

/* Loading/Boot Animation */
.loading-dots::after {
  content: '';
  animation: loading-dots 1.5s infinite;
}

@keyframes loading-dots {
  0%, 20% { content: '.'; }
  40% { content: '..'; }
  60% { content: '...'; }
  80%, 100% { content: ''; }
}

/* Cursor Trail Effect */
.cursor-trail {
  position: fixed;
  width: 4px;
  height: 4px;
  background: var(--color-blood);
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  animation: cursor-fade 0.5s ease-out forwards;
}

@keyframes cursor-fade {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.5); }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: var(--color-void);
  border: 1px solid var(--color-shadow);
}

::-webkit-scrollbar-thumb {
  background: var(--color-shadow);
  border: 1px solid var(--color-light);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-light);
}

/* Enhanced Button Animations with GSAP support */
.btn, button, .desktop-icon, .window-control {
  transition: all 0.1s ease;
  cursor: crosshair;
}

.btn:hover, button:hover, .desktop-icon:hover, .window-control:hover {
  transform: translate(-1px, -1px);
  filter: brightness(1.1);
}

.btn:active, button:active, .desktop-icon:active, .window-control:active {
  transform: translate(1px, 1px);
  filter: brightness(0.9);
}

/* Pulse animation for important elements */
@keyframes digital-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.02); }
}

.pulse {
  animation: digital-pulse 2s infinite ease-in-out;
}

/* Enhanced glitch effects */
@keyframes intense-glitch {
  0%, 100% { transform: translate(0); filter: hue-rotate(0deg); }
  10% { transform: translate(-2px, 1px); filter: hue-rotate(90deg); }
  20% { transform: translate(2px, -1px); filter: hue-rotate(180deg); }
  30% { transform: translate(-1px, 2px); filter: hue-rotate(270deg); }
  40% { transform: translate(1px, -2px); filter: hue-rotate(360deg); }
  50% { transform: translate(-2px, -1px); filter: hue-rotate(45deg); }
  60% { transform: translate(2px, 1px); filter: hue-rotate(135deg); }
  70% { transform: translate(-1px, -2px); filter: hue-rotate(225deg); }
  80% { transform: translate(1px, 2px); filter: hue-rotate(315deg); }
  90% { transform: translate(-2px, 1px); filter: hue-rotate(0deg); }
}

.glitch-intense {
  animation: intense-glitch 0.3s ease-in-out;
}

/* Enhanced focus states */
:focus {
  outline: 2px solid var(--color-info);
  outline-offset: 2px;
}

/* Smooth window transitions */
.window {
  transition: box-shadow 0.2s ease;
}

.window.focused {
  box-shadow: 0 0 20px rgba(0, 102, 204, 0.3);
}